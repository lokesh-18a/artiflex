<!-- C:\dev\artiflex\templates\artist\edit_profile.html -->
{% extends "layouts/base.html" %}
{% block title %}Edit Your Profile{% endblock %}
{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <h2>Edit Your Artisan Profile</h2>
        <p class="text-muted">This information will be visible to customers on your public profile page.</p>
        <hr class="mb-4">

        <!-- Ensure the form action points to the correct, prefixed URL -->
        <form action="/artist/manage/profile/edit" method="post" enctype="multipart/form-data">
            <div class="row mb-4">
                <div class="col-md-4">
                    <label class="form-label">Current Profile Picture</label><br>
                    <img src="{{ url_for('static', path='/uploads/profiles/' + artist.profile_picture) }}" alt="Profile Picture" class="rounded-circle" style="width: 150px; height: 150px; object-fit: cover; border: 3px solid #eee;">
                </div>
                <div class="col-md-8 align-self-center">
                    <label for="profile_picture" class="form-label">Upload New Picture</label>
                    <input class="form-control" type="file" id="profile_picture" name="profile_picture" accept="image/*">
                </div>
            </div>

            <div class="mb-3">
                <label for="studio_name" class="form-label">Studio Name</label>
                <input type="text" class="form-control" id="studio_name" name="studio_name" value="{{ artist.studio_name or '' }}" required>
            </div>

            <div class="mb-3">
                <label for="location" class="form-label">Location</label>
                <input type="text" class="form-control" id="location" name="location" placeholder="e.g., Mumbai, India" value="{{ artist.location or '' }}" required>
            </div>

            <div class="mb-3">
                <label for="phone_contact" class="form-label">Public Contact Phone</label>
                <input type="tel" class="form-control" id="phone_contact" name="phone_contact" value="{{ artist.phone_contact or '' }}" required>
            </div>

            <div class="mb-3">
                <label for="skills" class="form-label">Skills</label>
                <input type="text" class="form-control" id="skills" name="skills" placeholder="e.g., Pottery, Painting, Woodworking" value="{{ artist.skills or '' }}" required>
                <div class="form-text">Separate skills with a comma.</div>
            </div>

            <div class="mb-3">
                <label for="bio" class="form-label">Description / Bio</label>
                <textarea class="form-control" id="bio" name="bio" rows="5" placeholder="Tell customers your story, your inspiration, and what makes your craft unique." required>{{ artist.bio or '' }}</textarea>
            </div>

            <div class="d-grid">
                <button type="submit" class="btn btn-primary btn-lg">Save Profile Changes</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}